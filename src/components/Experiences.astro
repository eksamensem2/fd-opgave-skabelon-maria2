---
//@ts-nocheck
const Experiences = await fetch(
  "https://frontend-design-theme.netlify.app/api/experience"
).then((response) => response.json());
---

<section>
  <div class="full">
    <div class="text">
      <p class="bg">Experiences</p>
      <h2>{Experiences.heading}</h2>
      <p>
        {Experiences.subheading}<p></p>
      </p>
    </div>
    <div class="stats">
      <div class="stat" style="--percent: 85"></div>
      <div class="stat" style="--percent: 95"></div>
      <div class="stat" style="--percent: 90"></div>
    </div>
  </div>
</section>

<style>
  section {
    background-color: var(--primary01-color);
    padding: 9rem;
  }
  .full {
    display: grid;
    grid-template-columns: 1fr 1fr;

    .bg {
      background-color: var(--secondary02-color);
    }
    h2 {
      font-size: 45px;
      font-style: normal;
      font-weight: 700;
      line-height: 116%;
    }

    p {
      font-size: 18px;
      font-style: normal;
      font-weight: 400;
      line-height: 147.5%;
    }

    .stats {
      --bg-color: #fbc336;
      display: flex;
      gap: 26px;
    }

    .stat {
      --p: calc(var(--percent) * 1%);
      --border-width: 5px;
      --border-color: #ffffff;
      --border-bg: #daae3c;

      aspect-ratio: 1;
      border-radius: calc(Infinity * 1px);
      border: var(--border-width) solid #0000;
      background:
        radial-gradient(
            circle at 50% calc(var(--border-width) / 2),
            var(--border-color) calc(var(--border-width) / 2),
            transparent 0
          )
          border-box,
        linear-gradient(var(--bg-color) 0 0) padding-box,
        conic-gradient(var(--border-color) var(--p), var(--border-bg) 0)
          border-box;

      display: grid;
      counter-reset: count var(--percent);

      &::before,
      &::after {
        grid-area: 1 / -1;
      }

      &::after {
        content: counter(count) "%";
        place-self: center;
        font-size: 40px;
        font-weight: 700;
      }

      &::before {
        content: "";
        aspect-ratio: 1;
        border-radius: calc(Infinity * 1px);
        width: calc(var(--border-width) * 3);
        background: #000;
        outline: 2px solid #fff;
        outline-offset: -4px;
        offset-path: border-box;
        offset-distance: var(--p);
        offset-anchor: 50% calc(50% - var(--border-width) / 2);
      }
    }
  }
</style>
